//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//@FileName:  stack.c
//@Path:      D:\DataStruct
//@Description:
//@Copyright (c) 2020 Haihui Deng
//@Author     haihui_deng@163.com 2020/02/25
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#include <malloc.h>
#include "stack.h"

/********************************************************************************************************
*@brief:  构造一个空栈
*@param:  
*@return: 
*@warning:
*@Author:  haihui_deng@163.com 2020/02/25
********************************************************************************************************/
int InitStack(SqStack *S)
{
    S->base = (SElemType *)malloc(STACK_INIT_SIZE * sizeof(SElemType));
    if (S->base == NULL) /* 空间不足 */
        return OVERFLOW;

    S->top = S->base; /* 表示栈为空 */
    S->stacksize = STACK_INIT_SIZE;
    return OK;
}

/********************************************************************************************************
*@brief:  
*@param:  
*@return: 
*@warning:
*@Author:  haihui_deng@163.com 2020/02/25
********************************************************************************************************/
int DestroyStack(SqStack *S)
{
}

/********************************************************************************************************
*@brief:  
*@param:  
*@return: 
*@warning:
*@Author:  haihui_deng@163.com 2020/02/25
********************************************************************************************************/
int ClearStack(SqStack *S)
{
}

/********************************************************************************************************
*@brief:  
*@param:  
*@return: 
*@warning:
*@Author:  haihui_deng@163.com 2020/02/25
********************************************************************************************************/
int StackEmpty(SqStack *S)
{
}

/********************************************************************************************************
*@brief:  
*@param:  
*@return: 
*@warning:
*@Author:  haihui_deng@163.com 2020/02/25
********************************************************************************************************/
int StackLength(SqStack *S)
{
}

/********************************************************************************************************
*@brief:  若栈不空，则用e返回S的栈顶元素，并返回OK，否则返回ERROR
*@param:  
*@return: 
*@warning:
*@Author:  haihui_deng@163.com 2020/02/25
********************************************************************************************************/
int GetTop(SqStack *S, SElemType *e)
{
    if (S->base == NULL)
        return ERROR;
    *e = *(S->top - 1);
    return OK;
}

/********************************************************************************************************
*@brief:  
*@param:  
*@return: 
*@warning:
*@Author:  haihui_deng@163.com 2020/02/25
********************************************************************************************************/
int Push(SqStack *S, SElemType e)
{
    /* 先判断栈空间是否已经满，若是，则需要增大空间 */
    if (S->top - S->base >= S->stacksize)
    {
        S->base = (SElemType *)realloc((void *)S->base, (STACK_INCREMENT + S->stacksize) * sizeof(SElemType));
        if (S->base)
            return OVERFLOW;
        S->top = S->base + S->stacksize;
        S->stacksize += STACK_INCREMENT;
    }

    *(S->top) = e;
    S->top++;
    return OK;
}

/********************************************************************************************************
*@brief:  
*@param:  
*@return: 
*@warning:
*@Author:  haihui_deng@163.com 2020/02/25
********************************************************************************************************/
int Pop(SqStack *S, SElemType *e)
{
    /* 判断栈是否为空 */
    if (S->base == S->top)
        return ERROR;
    S->top--;
    *e = *S->top;
    return OK;
}